$(document).ready(function(){var e=CONFIG.header&&CONFIG.header.enable,o=e&&CONFIG.header.showOnPost,s=0,a=!1,l=!0;function t(){var t=!!$("#is-post").length,n=!e||t&&!o,i=$(".header-nav"),d=Math.floor($(window).scrollTop()),r=Math.floor(d-s);if(0===d)n&&setTimeout(function(){i.addClass("slider--clear"),l=!1},200),i.removeClass("header-nav--sticky"),i.removeClass("slider--up"),i.addClass("slider--down");else{if(n&&d<i.height())return!1;Math.abs(r)>5?(n&&(l?i.removeClass("slider--clear"):l=!0),a?i.addClass("header-nav--sticky"):a=!0,r>0?(i.removeClass("slider--down"),i.addClass("slider--up")):(i.removeClass("slider--up"),i.addClass("slider--down"))):i.addClass("header-nav--sticky")}s=d}function n(e){$(e).velocity("stop").velocity("scroll",{easing:"ease-in-out",duration:600})}var i=CONFIG.back2top&&CONFIG.back2top.enable,d=!1;function r(){var e=$("#back2top");0!==$(window).scrollTop()?d||(e.addClass("show"),e.removeClass("hide"),d=!0):(e.addClass("hide"),e.removeClass("show"),d=!1)}i&&(r(),$("#back2top").on("click",function(){$("body").velocity("stop").velocity("scroll")})),t(),$(window).on("scroll",Stun.utils.throttle(function(){t(),i&&r()},100)),Stun.utils.pjaxReloadScroll=function(){$("#content-wrap").find("h1,h2,h3,h4,h5,h6").on("click",function(){n("#"+$(this).attr("id"))}),$(".toc-link").on("click",function(e){e.preventDefault(),n($(this).attr("href"))})},Stun.utils.pjaxReloadScroll()});